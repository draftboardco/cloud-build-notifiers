[
  {
    "type": "section",
    "text": {
      "type": "mrkdwn",
      "text": "Cloud Build: Status: {{.Build.Status}}"
    }
  },
  {{if .Build.Source}}
  {{if .Build.Source.GetStorageSource}}
  {
    "type": "section",
    "text": {
      "type": "mrkdwn",
      "text" : "Source: Storage\nBucket: {{.Build.Source.GetStorageSource.Bucket}}\nObject: {{.Build.Source.GetStorageSource.Object}}"
    }
  },
  {{else if .Build.Source.GetGitSource}}
  {
    "type": "section",
    "text": {
      "type": "mrkdwn",
      "text" : "Source: Git\nRepository: {{$.Build.Substitutions.REPO_FULL_NAME}}\nBranch: {{$.Build.Substitutions.BRANCH_NAME}}\nCommit: `{{.Build.Source.GetGitSource.Revision}}`"
    }
  },
  {{end}}
  {{end}}


  {{if eq .Build.Substitutions._CLUSTER_PROJECT "draftboard-368620"}} 
  {
    "type": "section",
    "text" : {
      "type": "mrkdwn",
      "text": "* :warning: Important :warning: * : This is a production build. \nTarget cluster: *{{.Build.Substitutions._CLUSTER_PROJECT}}* \nnamespace: *{{.Build.Substitutions._NAMESPACE}}*"
    }
  },
 
  {{ else }}

  {
    "type": "section",
    "text" : {
      "type": "mrkdwn",
      "text" : "Target cluster: *{{.Build.Substitutions._CLUSTER_PROJECT}}* \nnamespace: *{{.Build.Substitutions._NAMESPACE}}*"
    }
  },

  {{end}}

  {
    "type": "divider"
  },
  {
    "type": "section",
    "text": {
      "type": "mrkdwn",
      "text": "View Build Logs"
    },
    "accessory": {
      "type": "button",
      "text": {
        "type": "plain_text",
        "text": "Logs"
      },
      "value": "click_me_123",
      "url": "{{.Build.LogUrl}}",
      "action_id": "button-action"
    }
  }
]

