[
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "Cloud Build {{.Build.ProjectId}} {{.Build.Id}} {{.Build.Status}}"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "{{if .Build.Source}}*Source Information:*\n• Type: {{getSourceType .Build.Source}}\n• Location: {{getRepoName .Build.Source}}{{if getSourceRef .Build.Source}}\n• {{getSourceRef .Build.Source}}{{end}}{{if getGitRef .Build}}\n• Git Ref: {{getGitRef .Build}}{{end}}{{end}}"
      }
    },
    {{$deployInfo := getDeploymentInfo .Build}}
    {{if $deployInfo}}
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "*Deployment Information:*{{if isProd $deployInfo}} ⚠️ *PRODUCTION*{{end}}\n{{if $deployInfo.project}}• Project: {{$deployInfo.project}}{{end}}{{if $deployInfo.cluster}}\n• Cluster: {{$deployInfo.cluster}}{{end}}{{if $deployInfo.namespace}}\n• Namespace: {{$deployInfo.namespace}}{{end}}"
      }
    },
    {{end}}
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "View Build Logs"
      },
      "accessory": {
        "type": "button",
        "text": {
          "type": "plain_text",
          "text": "Logs"
        },
        "value": "click_me_123",
        "url": "{{.Build.LogUrl}}",
        "action_id": "button-action"
      }
    }
  ]

